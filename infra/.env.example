# =============================================================================
# Docker Compose Project Configuration
# =============================================================================
COMPOSE_PROJECT_NAME=temporal-infra

# =============================================================================
# Temporal Configuration - Using Hardened Stable Versions
# =============================================================================
# Temporal Server: https://hub.docker.com/r/temporalio/auto-setup/tags
TEMPORAL_VERSION=1.25.2

# Temporal UI: https://hub.docker.com/r/temporalio/ui/tags
TEMPORAL_UI_VERSION=2.30.2

# Temporal Admin Tools: https://hub.docker.com/r/temporalio/admin-tools/tags
TEMPORAL_ADMIN_TOOLS_VERSION=1.25.2-tctl-1.18.1-cli-1.1.1

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL: https://hub.docker.com/_/postgres/tags
POSTGRES_VERSION=17.2-alpine3.21
POSTGRES_DB=temporal
POSTGRES_USER=temporal
POSTGRES_PASSWORD=changeme_secure_password_123

# Database connection pool settings
POSTGRES_MAX_CONNS=100
POSTGRES_MAX_OPEN_CONNS=100
POSTGRES_MAX_IDLE_CONNS=10

# =============================================================================
# Observability Stack Configuration
# =============================================================================
# Prometheus: https://hub.docker.com/r/prom/prometheus/tags
PROMETHEUS_VERSION=v2.55.1

# Grafana: https://hub.docker.com/r/grafana/grafana/tags
GRAFANA_VERSION=11.3.1

# Grafana credentials (change in production!)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme_secure_grafana_pass

# OpenTelemetry Collector: https://hub.docker.com/r/otel/opentelemetry-collector-contrib/tags
OTEL_COLLECTOR_VERSION=0.115.1

# =============================================================================
# OpenTelemetry SDK Configuration
# =============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_EXPORTER_OTLP_PROTOCOL=grpc
OTEL_SERVICE_NAME=temporal-worker
OTEL_METRICS_EXPORT_INTERVAL_MS=5000
OTEL_RESOURCE_ATTRIBUTES=environment=development

# =============================================================================
# Network Configuration
# =============================================================================
NETWORK_NAME=temporal-network

# =============================================================================
# Resource Limits (adjust based on your system)
# =============================================================================
# PostgreSQL
POSTGRES_MEM_LIMIT=1g
POSTGRES_CPU_LIMIT=1.0

# Temporal
TEMPORAL_MEM_LIMIT=2g
TEMPORAL_CPU_LIMIT=2.0

# Prometheus
PROMETHEUS_MEM_LIMIT=512m
PROMETHEUS_CPU_LIMIT=0.5

# Grafana
GRAFANA_MEM_LIMIT=256m
GRAFANA_CPU_LIMIT=0.5

# OTEL Collector
OTEL_COLLECTOR_MEM_LIMIT=256m
OTEL_COLLECTOR_CPU_LIMIT=0.5

# =============================================================================
# Environment
# =============================================================================
ENVIRONMENT=development
LOG_LEVEL=info

